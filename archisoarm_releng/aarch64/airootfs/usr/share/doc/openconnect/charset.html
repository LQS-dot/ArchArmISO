
	<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <title>OpenConnect VPN client.</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="description" content="VPN client compatible with Cisco AnyConnect SSL VPN" />
    <meta name="keywords" content="OpenConnect, AnyConnect, Cisco, VPN, SSLVPN, SSL VPN" />
    <link href="./styles/main.css" rel="styleSheet" type="text/css" />
    <link href='http://fonts.googleapis.com/css?family=Raleway' rel='stylesheet' type='text/css' />
 </head>

<body>
   <div id="logo" align="right">
     <img src="./images/openconnect.png" height="96px" alt="OpenConnect" />
   </div>
   <div id="main">


	
	
	
	<div id="menu1">

	<span class="nonsel">
<a href="index.html"><span>Home</span></a>
</span>

	<span class="sel">
<a href="features.html"><span>Features</span></a>
</span>

	<span class="nonsel">
<a href="connecting.html"><span>Getting Started</span></a>
</span>

	<span class="nonsel">
<a href="mail.html"><span>Mailing List / Help</span></a>
</span>

	<span class="nonsel">
<a href="contribute.html"><span>Contribute</span></a>
</span>

	<span class="nonsel">
<a href="protocols.html"><span>Protocols</span></a>
</span>

	<span class="nonsel">
<a href="https://www.infradead.org/ocserv/"><span>VPN Server</span></a>
</span>

	<p>OpenConnect VPN client</p>

	</div>

	
	<div id="menu2">

        <span class="nonsel">
<a href="features.html"><span>Feature list</span></a>
</span>

	<span class="nonsel">
<a href="nonroot.html"><span>Running as non-root user</span></a>
</span>

	<span class="nonsel">
<a href="gui.html"><span>GUI</span></a>
</span>

	<span class="sel">
<a href="charset.html"><span>Character sets</span></a>
</span>

	<span class="nonsel">
<a href="token.html"><span>One Time Passwords</span></a>
</span>

	<span class="nonsel">
<a href="pkcs11.html"><span>Smart Cards / PKCS#11</span></a>
</span>

	<span class="nonsel">
<a href="tpm.html"><span>Trusted Platform Module (TPM)</span></a>
</span>

	<span class="nonsel">
<a href="csd.html"><span>Cisco Secure Desktop (CSD)</span></a>
</span>

	<span class="nonsel">
<a href="tncc.html"><span>Juniper Host Checker (TNCC)</span></a>
</span>

	<span class="nonsel">
<a href="hip.html"><span>Host Integrity Protection (HIP)</span></a>
</span>

	</div>


	     <div id="textbox">
       <div id="text">
	</div>


<h1>Character set handling</h1>

<p>OpenConnect development started in 2008 on a modern Linux box, and
as such the character set handling was extremely simplistic. It boiled
down to the simple but reasonable assumption that <i>"everything is UTF-8,
all of the time"</i>. This was the case up to and including the OpenConnect
6.00 release in July 2014.</p>

<p>Since its inception, however, OpenConnect has been ported to
various less progressive POSIX-based systems and also to Windows,
which has its own particular style of charset insanity. It was
therefore necessary to implement some explicit handling for character
set conversion.</p>

<p>The design of this character set handling is that the internal
<tt>libopenconnect</tt> library still handles every string as UTF-8.
All input and output of the library remains UTF-8, and all callers
of the library are expected to handle them appropriately. For the GNOME and
KDE GUI tools, this should come naturally as all strings are expected to
be UTF-8 there. For the command-line tool <tt>openconnect</tt> itself,
implemented in <tt>main.c</tt>, this means that character set conversion
is done on all terminal input and output, and all arguments provided
on the command line.</p>

<p>Where it is necessary to open files or interact with the system in
other ways using the legacy character set, <tt>libopenconnect</tt>
will do the required conversion transparently. On POSIX systems with
legacy non-UTF-8 character sets, it will use <tt>iconv</tt> to
convert, while on Windows it will convert to UTF-16 and use the wide
character (so-called "Unicode") APIs instead.</p>


      </div>
   </div>
  </body>
</html>
